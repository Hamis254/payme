# SERVER CONFIGURATION
PORT=3000
NODE_ENV=development
LOG_LEVEL=info

# JWT AUTHENTICATION
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# DATABASE CONFIGURATION
DATABASE_URL=postgresql://neondb_owner:npg_DnqHx9PLiQK2@ep-billowing-butterfly-ag5c0ztk-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# ============ M-PESA CONFIGURATION ============
#
# SHARED SANDBOX APP (One app, multiple shortcodes):
# - OAuth credentials are shared across all operations
# - Wallet Paybill: 650880 (for token purchases - hardcoded)
# - Business Paybill/Till: Configured per business in payment_configs table
#
# PASSKEY:
# - Each shortcode (paybill/till) has its own passkey in Daraja portal
# - MPESA_PASSKEY: Passkey for the wallet paybill (650880)
# - Per-business passkey: Stored in payment_configs.passkey column
#
# SANDBOX APPS:
# - Create one app at https://developer.safaricom.co.ke/
# - Use its Consumer Key & Secret below
# - Create additional paybills/tills under the same app
# ============================================================================

# M-Pesa Environment
MPESA_ENV=sandbox

# Shared OAuth Credentials (from your Daraja sandbox app)
MPESA_CONSUMER_KEY=AlE9CcAjOWv525kpWbObjVZBKF1y6Q6XY1gxCJ5L3nQ7s6if
MPESA_CONSUMER_SECRET=PsQR497mRPlApSDIAO9O0VIFA2bvqKDLA4lzVtcwW0p1qcE8c4Q10K4vypeMkKDh

# Wallet Passkey (for paybill 650880 - token purchases)
# Get this from Daraja portal under your app > APIs > M-Pesa Express
MPESA_PASSKEY=your-paybill-passkey

# Callback URLs
MPESA_CALLBACK_URL=https://yourdomain.com/api/mpesa/callback
MPESA_B2C_TIMEOUT_URL=https://yourdomain.com/api/mpesa/b2c/timeout
MPESA_B2C_RESULT_URL=https://yourdomain.com/api/mpesa/b2c/result

# B2C Configuration (for payouts/refunds)
MPESA_B2C_SHORTCODE=your-b2c-shortcode
MPESA_B2C_INITIATOR=your-b2c-initiator-name
MPESA_B2C_SECURITY_CREDENTIAL=your-encrypted-b2c-security-credential

AFRICANTALKING_USERNAME=sandbox
AFRICANTALKING_API_KEY=atsk_df342b054de2aede2a99b28b2fb43a115acade93b6c16bfc2fe4a7471ba7556d1b307904
ARCJET_KEY=ajkey_01kfncwbveedqr2krvhghyr3fd

# ============ EMAIL CONFIGURATION ============
# For Gmail: Use App Password (not regular password)
# Get it at: https://myaccount.google.com/apppasswords
# Requires 2FA enabled on Gmail account

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here
SMTP_FROM=noreply@payme.app

# Optional: For production, use SendGrid instead
# SENDGRID_API_KEY=SG.your_key_here
